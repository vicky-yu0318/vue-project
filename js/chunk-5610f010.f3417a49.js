(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5610f010"],{1915:function(t,e,c){"use strict";function n(){window.pageYOffset>100&&window.scrollTo({top:0,behavior:"smooth"})}c.d(e,"a",(function(){return n}))},"408a":function(t,e,c){var n=c("e330");t.exports=n(1..valueOf)},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,c){var n=c("e330"),r=c("1d80"),o=c("577e"),a=c("5899"),s=n("".replace),i="["+a+"]",u=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),b=function(t){return function(e){var c=o(r(e));return 1&t&&(c=s(c,u,"")),2&t&&(c=s(c,l,"")),c}};t.exports={start:b(1),end:b(2),trim:b(3)}},"62b3":function(t,e,c){"use strict";c.r(e);c("a9e3");var n=c("7a23"),r={key:0,class:"section section-cart",id:"section-cart"},o={class:"container"},a={class:"cart-table"},s={key:0},i=Object(n["j"])(" 購物車( "),u={class:"quantity"},l=Object(n["j"])(") "),b=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{width:"15%",scope:"col",style:{"text-align":"left"}}),Object(n["h"])("th",{width:"15%",scope:"col",style:{"text-align":"left"}},"商品名稱"),Object(n["h"])("th",{width:"20%",scope:"col"},"單價"),Object(n["h"])("th",{width:"10%",scope:"col"},"數量"),Object(n["h"])("th",{width:"20%",scope:"col",style:{"text-align":"right"}},"小計"),Object(n["h"])("th",{width:"5%",scope:"col"})])],-1),h=["src"],p={style:{"text-align":"left"}},d={class:"input-field"},j=["onUpdate:modelValue","onBlur"],O={style:{"text-align":"right"}},f=["onClick"],g={class:"discount-banner"},y={class:"content"},v={class:"txt"},m=Object(n["h"])("h3",null,"春季限時回饋",-1),C=Object(n["h"])("p",null,"輸入折扣碼「30discount」可享7折限量優惠",-1),M=Object(n["h"])("p",null,"購茶滿$850即可享免運",-1),$=Object(n["j"])("繼續選購"),k={class:"sum-table"},S=Object(n["h"])("caption",null," 訂單資訊 ",-1),w=Object(n["h"])("th",{scope:"row",width:"60%"},"小計",-1),x={width:"40%"},N=Object(n["h"])("th",{scope:"row"},"運費",-1),B={key:0},I=Object(n["h"])("th",{scope:"row",class:"freeShipping"},"符合免運門檻",-1),E={class:"discount"},_=Object(n["h"])("tr",null,[Object(n["h"])("th",{scope:"row",class:"freeShipping"},"尚未符合免運門檻")],-1),P={colspan:"2"},A=Object(n["h"])("th",{scope:"row"},"總金額",-1),F={key:0},V={key:1},L={key:0},U={key:1},T={colspan:"2"},q={key:0,class:"input-box"},J={key:1,class:"input-box"},R=Object(n["h"])("input",{type:"text",value:"30discount",disabled:"",placeholder:"已套用優惠碼"},null,-1),G=Object(n["h"])("button",{type:"button",style:{"pointer-events":"none"}},"套用優惠碼",-1),X=[R,G],Y={colspan:"2"},Q=Object(n["j"])("前往結帳"),W={key:1,class:"section section-cart",id:"section-cart"},D={class:"container"},H={class:"content empty-cart"},z=Object(n["h"])("p",null,"您目前還沒添加產至購物車",-1),K=Object(n["j"])("前往選購");function Z(t,e,c,R,G,Z){var tt=Object(n["J"])("Loading"),et=Object(n["J"])("Progressbar"),ct=Object(n["J"])("router-link");return Object(n["B"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(tt,{active:G.isLoading},null,8,["active"]),Object(n["k"])(et,{currentProgress:G.currentProgress},null,8,["currentProgress"]),G.cart.total>0?(Object(n["B"])(),Object(n["g"])("section",r,[Object(n["h"])("div",o,[Object(n["h"])("button",{type:"button",class:"btn-main",id:"btnDeleteCart",onClick:e[0]||(e[0]=function(){return Z.deleteAllCart&&Z.deleteAllCart.apply(Z,arguments)})}," 刪除購物車內容 "),Object(n["h"])("table",a,[G.cart.carts?(Object(n["B"])(),Object(n["g"])("caption",s,[i,Object(n["h"])("span",u,Object(n["M"])(G.cart.carts.length)+"項商品",1),l])):Object(n["f"])("",!0),b,Object(n["h"])("tbody",null,[(Object(n["B"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(G.cart.carts,(function(e){return Object(n["B"])(),Object(n["g"])("tr",{key:e},[Object(n["h"])("td",null,[Object(n["k"])(ct,{to:"/product/".concat(e.product.id)},{default:Object(n["V"])((function(){return[Object(n["h"])("img",{src:e.product.imageUrl},null,8,h)]})),_:2},1032,["to"])]),Object(n["h"])("td",p,Object(n["M"])(e.product.title),1),Object(n["h"])("td",null,Object(n["M"])(t.$filters.toCurrency(e.product.price)),1),Object(n["h"])("td",null,[Object(n["h"])("div",d,[Object(n["W"])(Object(n["h"])("input",{type:"number",min:"1",max:"99","onUpdate:modelValue":function(t){return e.qty=t},onBlur:function(t){return Z.updateCart(e)}},null,40,j),[[n["Q"],e.qty]])])]),Object(n["h"])("td",O,Object(n["M"])(t.$filters.toCurrency(e.total)),1),Object(n["h"])("td",null,[Object(n["h"])("i",{class:"fas fa-times",onClick:function(t){return Z.deleteCart(e)}},null,8,f)])])})),128))])]),Object(n["h"])("div",g,[Object(n["h"])("div",y,[Object(n["h"])("div",v,[m,C,M,Object(n["k"])(ct,{to:"/products",class:"btn-main"},{default:Object(n["V"])((function(){return[$]})),_:1})])])]),Object(n["h"])("table",k,[S,Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[w,Object(n["h"])("td",x,Object(n["M"])(t.$filters.toCurrency(Number(G.cart.total))),1)]),Object(n["h"])("tr",null,[N,Object(n["h"])("td",null,Object(n["M"])(t.$filters.toCurrency(G.shippingFee)),1)]),G.cart.total>=G.threshold?(Object(n["B"])(),Object(n["g"])("tr",B,[I,Object(n["h"])("td",E,"-"+Object(n["M"])(G.shippingFee),1)])):(Object(n["B"])(),Object(n["g"])(n["a"],{key:1},[_,Object(n["h"])("tr",null,[Object(n["h"])("th",P,[Object(n["k"])(ct,{to:"/products",class:"goProductsLink"},{default:Object(n["V"])((function(){return[Object(n["j"])("再買 "+Object(n["M"])(t.$filters.toCurrency(G.threshold-G.cart.total))+" 即享有免運",1)]})),_:1})])])],64))]),Object(n["h"])("tfoot",null,[Object(n["h"])("tr",null,[A,G.isUseCoupon?(Object(n["B"])(),Object(n["g"])(n["a"],{key:1},[G.cart.total>=G.threshold?(Object(n["B"])(),Object(n["g"])("td",L,[Object(n["h"])("del",null,Object(n["M"])(t.$filters.toCurrency(Number(G.cart.total))),1),Object(n["h"])("ins",null,Object(n["M"])(t.$filters.toCurrency(Number(G.cart.final_total))),1)])):(Object(n["B"])(),Object(n["g"])("td",U,[Object(n["h"])("del",null,Object(n["M"])(t.$filters.toCurrency(Number(G.cart.total+100))),1),Object(n["h"])("ins",null,Object(n["M"])(t.$filters.toCurrency(Number(G.cart.final_total+100))),1)]))],64)):(Object(n["B"])(),Object(n["g"])(n["a"],{key:0},[G.cart.total>=G.threshold?(Object(n["B"])(),Object(n["g"])("td",F,Object(n["M"])(t.$filters.toCurrency(Number(G.cart.total))),1)):(Object(n["B"])(),Object(n["g"])("td",V,Object(n["M"])(t.$filters.toCurrency(Number(G.cart.total+100))),1))],64))]),Object(n["h"])("tr",null,[Object(n["h"])("td",T,[G.isUseCoupon?(Object(n["B"])(),Object(n["g"])("div",J,X)):(Object(n["B"])(),Object(n["g"])("div",q,[Object(n["W"])(Object(n["h"])("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(t){return G.couponCode=t})},null,512),[[n["Q"],G.couponCode]]),Object(n["h"])("button",{type:"button",onClick:e[2]||(e[2]=function(){return Z.useCoupon&&Z.useCoupon.apply(Z,arguments)})},"套用優惠碼")]))])]),Object(n["h"])("tr",null,[Object(n["h"])("td",Y,[Object(n["k"])(ct,{to:"/payment",class:"btn-main"},{default:Object(n["V"])((function(){return[Q]})),_:1})])])])])])])):(Object(n["B"])(),Object(n["g"])("section",W,[Object(n["h"])("div",D,[Object(n["h"])("div",H,[z,Object(n["k"])(ct,{to:"/products",class:"btn-main"},{default:Object(n["V"])((function(){return[K]})),_:1})])])]))],64)}c("b0c0"),c("99af");var tt=c("cbe1"),et=c("37ca"),ct=c("1915"),nt={data:function(){return{isLoading:!1,cart:[],currentProgress:this.$route.name,couponCode:"30discount",isUseCoupon:!1,shippingFee:100,threshold:850}},components:{Progressbar:tt["a"]},methods:{getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("freedom","/cart");this.$http.get(e).then((function(e){e.data.success&&(t.cart=e.data.data)})).catch((function(e){t.$httpMessageState(e,"取購物車內容")}))},deleteCart:function(t){var e=this;this.isLoading=!0;var c="商品刪除",n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("freedom","/cart/").concat(t.id);this.$http.delete(n).then((function(t){t.data.success?(e.getCart(),et["a"].emit("update-cart"),e.$httpMessageState(t,c)):e.$httpMessageState(t,c),e.isLoading=!1})).catch((function(t){e.$httpMessageState(t,c)}))},deleteAllCart:function(t){var e=this;this.isLoading=!0;var c="全部商品刪除",n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("freedom","/carts");this.$http.delete(n).then((function(t){t.data.success?(e.getCart(),et["a"].emit("update-cart"),e.$httpMessageState(t,c)):e.$httpMessageState(t,c),e.isLoading=!1})).catch((function(t){e.$httpMessageState(t,c)}))},updateCart:function(t){var e=this,c="";if(t.qty<1)return c="購買數量不得小於0",this.$httpSideMessageState(c,!1),void this.getCart();c="更新購物車";var n={data:{product_id:t.product.id,qty:t.qty}},r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("freedom","/cart/").concat(t.id);this.$http.put(r,n).then((function(t){t.data.success?(e.getCart(),e.$httpMessageState(t,c)):e.$httpMessageState(t,c)})).catch((function(t){e.$httpMessageState(t,c)}))},useCoupon:function(){var t=this,e="使用優惠券",c={data:{code:this.couponCode}},n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("freedom","/coupon");this.$http.post(n,c).then((function(c){c.data.success?(t.$httpMessageState(c,e),t.getCart(),t.isUseCoupon=!0):t.$httpMessageState(c,e)})).catch((function(c){t.$httpMessageState(c,e)}))}},mounted:function(){var t=this;Object(ct["a"])(),this.isUseCoupon=!1,this.getCart(),et["a"].on("update-cart",(function(){t.isJump=!0,t.getCart()}))}},rt=c("6b0d"),ot=c.n(rt);const at=ot()(nt,[["render",Z]]);e["default"]=at},7156:function(t,e,c){var n=c("1626"),r=c("861d"),o=c("d2bb");t.exports=function(t,e,c){var a,s;return o&&n(a=e.constructor)&&a!==c&&r(s=a.prototype)&&s!==c.prototype&&o(t,s),t}},"99af":function(t,e,c){"use strict";var n=c("23e7"),r=c("da84"),o=c("d039"),a=c("e8b5"),s=c("861d"),i=c("7b0b"),u=c("07fa"),l=c("8418"),b=c("65f0"),h=c("1dde"),p=c("b622"),d=c("2d00"),j=p("isConcatSpreadable"),O=9007199254740991,f="Maximum allowed index exceeded",g=r.TypeError,y=d>=51||!o((function(){var t=[];return t[j]=!1,t.concat()[0]!==t})),v=h("concat"),m=function(t){if(!s(t))return!1;var e=t[j];return void 0!==e?!!e:a(t)},C=!y||!v;n({target:"Array",proto:!0,forced:C},{concat:function(t){var e,c,n,r,o,a=i(this),s=b(a,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?a:arguments[e],m(o)){if(r=u(o),h+r>O)throw g(f);for(c=0;c<r;c++,h++)c in o&&l(s,h,o[c])}else{if(h>=O)throw g(f);l(s,h++,o)}return s.length=h,s}})},a9e3:function(t,e,c){"use strict";var n=c("83ab"),r=c("da84"),o=c("e330"),a=c("94ca"),s=c("6eeb"),i=c("1a2d"),u=c("7156"),l=c("3a9b"),b=c("d9b5"),h=c("c04e"),p=c("d039"),d=c("241c").f,j=c("06cf").f,O=c("9bf2").f,f=c("408a"),g=c("58a8").trim,y="Number",v=r[y],m=v.prototype,C=r.TypeError,M=o("".slice),$=o("".charCodeAt),k=function(t){var e=h(t,"number");return"bigint"==typeof e?e:S(e)},S=function(t){var e,c,n,r,o,a,s,i,u=h(t,"number");if(b(u))throw C("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=g(u),e=$(u,0),43===e||45===e){if(c=$(u,2),88===c||120===c)return NaN}else if(48===e){switch($(u,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(o=M(u,2),a=o.length,s=0;s<a;s++)if(i=$(o,s),i<48||i>r)return NaN;return parseInt(o,n)}return+u};if(a(y,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,x=function(t){var e=arguments.length<1?0:v(k(t)),c=this;return l(m,c)&&p((function(){f(c)}))?u(Object(e),c,x):e},N=n?d(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),B=0;N.length>B;B++)i(v,w=N[B])&&!i(x,w)&&O(x,w,j(v,w));x.prototype=m,m.constructor=x,s(r,y,x)}},b0c0:function(t,e,c){var n=c("83ab"),r=c("5e77").EXISTS,o=c("e330"),a=c("9bf2").f,s=Function.prototype,i=o(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(u.exec),b="name";n&&!r&&a(s,b,{configurable:!0,get:function(){try{return l(u,i(this))[1]}catch(t){return""}}})},cbe1:function(t,e,c){"use strict";var n=c("7a23"),r={class:"section section-progressbar",id:"section-progressbar"},o={class:"container"},a={class:"progressbar"};function s(t,e,c,s,i,u){return Object(n["B"])(),Object(n["g"])("section",r,[Object(n["h"])("div",o,[Object(n["h"])("ul",a,[Object(n["h"])("li",{class:Object(n["s"])(["progressCart",{active:"Cart"===c.currentProgress}])},"購物車",2),Object(n["h"])("li",{class:Object(n["s"])(["progressFill",{active:"Payment"===c.currentProgress}]),ref:"progressFill"},"填寫資料",2),Object(n["h"])("li",{class:Object(n["s"])(["progressOrder",{active:"Order"===c.currentProgress}])},"訂單確認",2)])])])}var i={props:{currentProgress:{type:String}}},u=c("6b0d"),l=c.n(u);const b=l()(i,[["render",s]]);e["a"]=b}}]);
//# sourceMappingURL=chunk-5610f010.f3417a49.js.map