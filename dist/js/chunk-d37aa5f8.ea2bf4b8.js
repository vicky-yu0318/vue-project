(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d37aa5f8"],{1915:function(t,e,i){"use strict";function a(){window.pageYOffset>100&&window.scrollTo({top:0,behavior:"smooth"})}i.d(e,"a",(function(){return a}))},"1c33":function(t,e,i){"use strict";i("e9c4"),i("caad"),i("2532"),i("a434");e["a"]={methods:{save:function(t){var e=JSON.stringify(t);localStorage.setItem("teaFavorite",e)},get:function(){return JSON.parse(localStorage.getItem("teaFavorite"))},addMyFavorite:function(t){if(this.myFavorite.includes(t)){var e="商品已從收藏清單中移除";this.myFavorite.splice(this.myFavorite.indexOf(t),1),this.$httpSideMessageState(e,!1)}else{var i="加入我的收藏清單";this.myFavorite.push(t),this.$httpSideMessageState(i)}this.save(this.myFavorite),this.emitter.emit("update-favorite")}},inject:["emitter"],watch:{myFavorite:{handler:function(){this.save(this.myFavorite)},deep:!0}}}},2532:function(t,e,i){"use strict";var a=i("23e7"),c=i("e330"),n=i("5a34"),r=i("1d80"),s=i("577e"),o=i("ab13"),u=c("".indexOf);a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~u(s(r(this)),s(n(t)),arguments.length>1?arguments[1]:void 0)}})},"466d":function(t,e,i){"use strict";var a=i("c65b"),c=i("d784"),n=i("825a"),r=i("50c4"),s=i("577e"),o=i("1d80"),u=i("dc4a"),l=i("8aa5"),d=i("14c3");c("match",(function(t,e,i){return[function(e){var i=o(this),c=void 0==e?void 0:u(e,t);return c?a(c,e,i):new RegExp(e)[t](s(i))},function(t){var a=n(this),c=s(t),o=i(e,a,c);if(o.done)return o.value;if(!a.global)return d(a,c);var u=a.unicode;a.lastIndex=0;var h,f=[],b=0;while(null!==(h=d(a,c))){var p=s(h[0]);f[b]=p,""===p&&(a.lastIndex=l(c,r(a.lastIndex),u)),b++}return 0===b?null:f}]}))},"4de4":function(t,e,i){"use strict";var a=i("23e7"),c=i("b727").filter,n=i("1dde"),r=n("filter");a({target:"Array",proto:!0,forced:!r},{filter:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,i){var a=i("da84"),c=i("44e7"),n=a.TypeError;t.exports=function(t){if(c(t))throw n("The method doesn't accept regular expressions");return t}},"86bc":function(t,e,i){"use strict";i("a666")},"884c":function(t,e,i){},"99af":function(t,e,i){"use strict";var a=i("23e7"),c=i("da84"),n=i("d039"),r=i("e8b5"),s=i("861d"),o=i("7b0b"),u=i("07fa"),l=i("8418"),d=i("65f0"),h=i("1dde"),f=i("b622"),b=i("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,j="Maximum allowed index exceeded",O=c.TypeError,g=b>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),y=h("concat"),m=function(t){if(!s(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},k=!g||!y;a({target:"Array",proto:!0,forced:k},{concat:function(t){var e,i,a,c,n,r=o(this),s=d(r,0),h=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?r:arguments[e],m(n)){if(c=u(n),h+c>v)throw O(j);for(i=0;i<c;i++,h++)i in n&&l(s,h,n[i])}else{if(h>=v)throw O(j);l(s,h++,n)}return s.length=h,s}})},a666:function(t,e,i){},ab13:function(t,e,i){var a=i("b622"),c=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[c]=!1,"/./"[t](e)}catch(a){}}return!1}},caad:function(t,e,i){"use strict";var a=i("23e7"),c=i("4d64").includes,n=i("44d2");a({target:"Array",proto:!0},{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},de8a:function(t,e,i){"use strict";i.r(e);var a=i("7a23"),c={class:"front"},n={id:"nav"};function r(t,e,i,r,s,o){var u=Object(a["J"])("Navbar"),l=Object(a["J"])("router-view"),d=Object(a["J"])("Footer");return Object(a["B"])(),Object(a["g"])("div",c,[Object(a["h"])("div",n,[Object(a["k"])(u),Object(a["k"])(l),Object(a["k"])(d)])])}var s={class:"main-header",id:"main-header",ref:"mainHeader"},o={class:"container"},u=Object(a["h"])("div",{class:"logo"},[Object(a["h"])("a",{href:"index.html"},[Object(a["h"])("h1",{class:"sr-only"},"pure tea"),Object(a["h"])("i",{class:"fab fa-envira"}),Object(a["j"])("PURE ")])],-1),l=Object(a["j"])("首頁"),d=Object(a["j"])("精選茶"),h=Object(a["j"])("常見問題"),f={class:"main-icons"},b={key:0,class:"active"},p={key:0,class:"main-search-wrap"},v={class:"main-search-list"},j=["onClick"],O=Object(a["h"])("h3",{class:"title"},"收藏清單 ",-1),g={key:0,class:"emptyFavorite"},y=Object(a["h"])("p",null,"目前沒有收藏的商品喔，趕快來收藏吧!",-1),m=Object(a["j"])("前往收藏"),k={key:1,class:"available-favorite"},F=["onClick"],D=["src"],S={class:"content"},w={class:"price"},C={class:"interact"},M=["onClick"],x={key:0,class:"fas fa-spinner fa-spin"},$={key:1,class:"fas fa-shopping-cart"},B=["onClick"],P={key:0,class:"fas fa-spinner fa-spin"},J={key:1,class:"fas fa-times"},T={class:"btn-group"},L=Object(a["j"])("繼續購物"),V=Object(a["j"])("前往結帳"),_=Object(a["h"])("i",{class:"fas fa-angle-up"},null,-1),I=[_];function A(t,e,i,c,n,r){var _=Object(a["J"])("router-link");return Object(a["B"])(),Object(a["g"])("header",s,[Object(a["h"])("div",o,[u,Object(a["h"])("nav",{class:Object(a["s"])(["main-navbar",{active:n.isMenuDisplay}])},[Object(a["k"])(_,{to:"/",onClick:e[0]||(e[0]=function(t){return n.isMenuDisplay=!1})},{default:Object(a["V"])((function(){return[l]})),_:1}),Object(a["k"])(_,{to:"/products",onClick:e[1]||(e[1]=function(t){return n.isMenuDisplay=!1})},{default:Object(a["V"])((function(){return[d]})),_:1}),Object(a["k"])(_,{to:"/question",onClick:e[2]||(e[2]=function(t){return n.isMenuDisplay=!1})},{default:Object(a["V"])((function(){return[h]})),_:1}),Object(a["h"])("div",{class:Object(a["s"])(["fas fa-times",{active:n.isMenuDisplay}]),id:"btn-closeMenu",onClick:e[3]||(e[3]=function(t){return n.isMenuDisplay=!1})},null,2)],2),Object(a["h"])("div",f,[Object(a["k"])(_,{to:"/cart",class:"fas fa-shopping-cart",id:"btn-cart"},{default:Object(a["V"])((function(){return[n.cart.carts&&n.cart.carts.length>0?(Object(a["B"])(),Object(a["g"])("span",{key:0,class:Object(a["s"])({active:n.isJump})},Object(a["M"])(n.cart.carts.length),3)):Object(a["f"])("",!0)]})),_:1}),Object(a["h"])("div",{class:"fas fa-search",id:"btn-search",onClick:e[4]||(e[4]=function(){return r.changeSearchDisplay&&r.changeSearchDisplay.apply(r,arguments)})}),Object(a["h"])("div",{class:"fas fa-heart",id:"btn-heart",onClick:e[5]||(e[5]=function(){return r.changeFavoriteDisplay&&r.changeFavoriteDisplay.apply(r,arguments)})},[n.favoriteProduct.length>0?(Object(a["B"])(),Object(a["g"])("span",b,Object(a["M"])(n.favoriteProduct.length),1)):Object(a["f"])("",!0)]),Object(a["h"])("div",{class:"fas fa-bars",id:"btn-menu",onClick:e[6]||(e[6]=function(t){return n.isMenuDisplay=!0})})]),Object(a["h"])("div",{class:Object(a["s"])(["main-search",{active:n.isSearchDisplay}])},[Object(a["W"])(Object(a["h"])("input",{type:"search",class:"input-box",placeholder:"搜尋您要找的商品","onUpdate:modelValue":e[7]||(e[7]=function(t){return n.inputSearch=t})},null,512),[[a["Q"],n.inputSearch,void 0,{trim:!0,number:!0}]]),Object(a["h"])("button",{class:"fas fa-search",onClick:e[8]||(e[8]=function(){return r.searchRelative&&r.searchRelative.apply(r,arguments)})})],2),r.relativeDatas.length>0&&n.isSearchDisplay?(Object(a["B"])(),Object(a["g"])("div",p,[Object(a["h"])("ul",v,[(Object(a["B"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(r.relativeDatas,(function(t){return Object(a["B"])(),Object(a["g"])("li",{class:"search-item",key:t.id},[Object(a["h"])("a",{onClick:Object(a["X"])((function(e){return r.goProduct(t.id)}),["prevent"])},Object(a["M"])(t.title),9,j)])})),128))])])):Object(a["f"])("",!0),Object(a["h"])("div",{class:Object(a["s"])(["favorite-list",{active:n.isFavoriteDisplay}])},[O,n.favoriteProduct.length<1?(Object(a["B"])(),Object(a["g"])("div",g,[y,Object(a["k"])(_,{to:"/products",class:"btn-block",onClick:e[9]||(e[9]=function(t){return n.isFavoriteDisplay=!1})},{default:Object(a["V"])((function(){return[m]})),_:1})])):(Object(a["B"])(),Object(a["g"])("div",k,[(Object(a["B"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(n.favoriteProduct,(function(e){return Object(a["B"])(),Object(a["g"])("div",{class:"item",key:e.id},[Object(a["h"])("a",{onClick:Object(a["X"])((function(t){return r.goProduct(e.product.id)}),["prevent"]),class:"favoritePic"},[Object(a["h"])("img",{src:e.product.imageUrl,alt:""},null,8,D)],8,F),Object(a["h"])("div",S,[Object(a["h"])("h3",null,Object(a["M"])(e.product.title),1),Object(a["h"])("span",w,Object(a["M"])(t.$filters.toCurrency(e.product.price)),1)]),Object(a["h"])("div",C,[Object(a["h"])("div",{class:"btnAddCart",onClick:function(t){return r.addToCart(e.product)}},[n.isFavoriteLoading.loadingItem===e.product.id?(Object(a["B"])(),Object(a["g"])("span",x)):(Object(a["B"])(),Object(a["g"])("span",$))],8,M),Object(a["h"])("div",{class:"btnDeleteFavorite",onClick:function(t){return r.deleteMyFavorite(e.product.id)}},[n.isFavoriteLoading.loadingItem===e.product.id?(Object(a["B"])(),Object(a["g"])("span",P)):(Object(a["B"])(),Object(a["g"])("span",J))],8,B)])])})),128)),Object(a["h"])("div",T,[Object(a["k"])(_,{to:"/products",class:"btn-block","data-not":"not",onClick:e[10]||(e[10]=function(t){return n.isFavoriteDisplay=!1})},{default:Object(a["V"])((function(){return[L]})),_:1}),Object(a["k"])(_,{to:"/cart",class:"btn-block","data-not":"not",onClick:e[11]||(e[11]=function(t){return n.isFavoriteDisplay=!1})},{default:Object(a["V"])((function(){return[V]})),_:1})])])),Object(a["h"])("div",{class:Object(a["s"])(["fas fa-times",{active:n.isFavoriteDisplay}]),id:"btn-closeFavorite",onClick:e[12]||(e[12]=function(t){return n.isFavoriteDisplay=!n.isFavoriteDisplay})},null,2)],2),Object(a["h"])("div",{id:"btn-goTop",ref:"btnGotop",onClick:e[13]||(e[13]=function(){return r.goToTop&&r.goToTop.apply(r,arguments)})},I,512)])],512)}i("99af"),i("4de4"),i("d3b7"),i("159b"),i("a434"),i("ac1f"),i("466d");var E=i("37ca"),N=i("1c33"),H=i("1915"),R={data:function(){return{cart:{},focusPage:"",isJump:!1,inputSearch:"",isSearchDisplay:"",isFavoriteDisplay:"",isMenuDisplay:"",myFavorite:this.get()||[],favoriteProduct:[],isFavoriteLoading:{loadingItem:""}}},mixins:[N["a"]],methods:{getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("freedom","/cart");this.$http.get(e).then((function(e){e.data.success?(t.cart=e.data.data,t.isJump=!1):t.$httpMessageState(e,"取得購物車清單")})).catch((function(e){t.$httpMessageState(e,"取得購物車清單")}))},getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i="".concat("https://vue3-course-api.hexschool.io/","api/").concat("freedom","/products?page=").concat(e);this.$http.get(i).then((function(e){e.data.success?t.products=e.data.products:t.$httpMessageState(e,"取得產品清單")})).catch((function(e){t.$httpMessageState(e,"取得產品清單")}))},goProduct:function(t){this.$router.push("/product/".concat(t)),this.inputSearch="",this.isSearchDisplay=!1,this.isFavoriteDisplay=!1},searchRelative:function(){var t=this,e=this.products.filter((function(e){return e.title===t.inputSearch}));if(e.length<1){var i="無相關產品 / 請輸入搜尋關鍵字";this.$httpSideMessageState(i,!1)}else{var a=e[0].id;this.goProduct(a)}},windowListen:function(){window.addEventListener("scroll",this.windowScroll)},windowScroll:function(){var t=this;window.pageYOffset>50?(this.$refs.mainHeader.classList.add("active"),this.$refs.btnGotop.classList.add("active"),this.isFavoriteDisplay=!1,setTimeout((function(){t.isSearchDisplay=!1}),1e3)):(this.$refs.mainHeader.classList.remove("active"),this.$refs.btnGotop.classList.remove("active"))},changeFavoriteDisplay:function(){this.isFavoriteDisplay=!this.isFavoriteDisplay,this.isSearchDisplay=!1},changeSearchDisplay:function(){this.isSearchDisplay=!this.isSearchDisplay,this.inputSearch=""},getFavorite:function(){var t=this;this.myFavorite=this.get()||[],this.favoriteProduct=[],this.myFavorite.length>0&&this.myFavorite.forEach((function(e){var i="".concat("https://vue3-course-api.hexschool.io/","api/").concat("freedom","/product/").concat(e);t.$http.get(i).then((function(e){e.data.success&&t.favoriteProduct.push(e.data)}))}))},addToCart:function(t){var e=this;this.isFavoriteLoading.loadingItem=t.id;var i="加入購物車",a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("freedom","/cart"),c={product_id:t.id,qty:1};this.$http.post(a,{data:c}).then((function(t){e.$httpMessageState(t,i),E["a"].emit("update-cart"),e.isFavoriteLoading.loadingItem=""})).catch((function(t){e.$httpMessageState(t,i)}))},deleteMyFavorite:function(t){var e="商品從收藏清單中移除";this.myFavorite.splice(this.myFavorite.indexOf(t),1),this.$httpSideMessageState(e,!1),this.save(this.myFavorite),this.emitter.emit("update-favorite")},goToTop:function(){Object(H["a"])()}},mounted:function(){var t=this;this.getProducts(),this.getCart(),this.windowListen(),this.getFavorite(),E["a"].on("update-cart",(function(){t.isJump=!0,t.getCart()})),E["a"].on("update-favorite",(function(){t.getFavorite()}))},computed:{relativeDatas:function(){var t=this.inputSearch;if(!t)return[];var e=this.products.filter((function(e){return e.title.match(t)}));return e||[]}}},q=(i("86bc"),i("6b0d")),G=i.n(q);const U=G()(R,[["render",A]]);var X=U,Y={class:"footer",id:"footer"},Q={class:"container"},W={class:"item-group"},z={class:"item"},K=Object(a["h"])("h3",null,"相關連結",-1),Z={class:"footer-list"},tt=Object(a["h"])("i",{class:"fas fa-arrow-right"},null,-1),et=Object(a["j"])("首頁"),it=Object(a["h"])("i",{class:"fas fa-arrow-right"},null,-1),at=Object(a["j"])("精選茶款"),ct=Object(a["h"])("i",{class:"fas fa-arrow-right"},null,-1),nt=Object(a["j"])("常見問題"),rt=Object(a["h"])("li",null,[Object(a["h"])("a",{href:"javascript:;"},[Object(a["h"])("i",{class:"fas fa-arrow-right"}),Object(a["j"])("合作企業")])],-1),st=Object(a["i"])('<div class="item"><h3>聯絡我們</h3><ul class="footer-list"><li><a href="javascript:;"><i class="fa-solid fa-envelope"></i>email</a></li><li><a href="javascript:;"><i class="fab fa-facebook-f"></i>facebook</a></li><li><a href="javascript:;"><i class="fab fa-twitter"></i>twitter</a></li><li><a href="javascript:;"><i class="fa-brands fa-line"></i>line</a></li></ul></div><div class="item subscribe-item"><h3>最新消息</h3><form action=""><input type="email" placeholder="email"><input type="submit" value="訂閱我們" class="btn-main"></form></div>',2),ot=Object(a["j"])("管理者登入 ||"),ut=Object(a["h"])("p",{style:{color:"var(--light-color)"}},"本網站僅供個人作品使用，不提供商業用途",-1);function lt(t,e){var i=Object(a["J"])("router-link");return Object(a["B"])(),Object(a["g"])("footer",Y,[Object(a["h"])("div",Q,[Object(a["h"])("div",W,[Object(a["h"])("div",z,[K,Object(a["h"])("ul",Z,[Object(a["h"])("li",null,[Object(a["k"])(i,{to:"/"},{default:Object(a["V"])((function(){return[tt,et]})),_:1})]),Object(a["h"])("li",null,[Object(a["k"])(i,{to:"/products"},{default:Object(a["V"])((function(){return[it,at]})),_:1})]),Object(a["h"])("li",null,[Object(a["k"])(i,{to:"/question"},{default:Object(a["V"])((function(){return[ct,nt]})),_:1})]),rt])]),st]),Object(a["k"])(i,{to:"/login",style:{color:"var(--light-color)",display:"block","padding-top":"15px"}},{default:Object(a["V"])((function(){return[ot]})),_:1}),ut])])}const dt={},ht=G()(dt,[["render",lt]]);var ft=ht,bt={components:{Navbar:X,Footer:ft}};i("e1a6");const pt=G()(bt,[["render",r]]);e["default"]=pt},e1a6:function(t,e,i){"use strict";i("884c")},e9c4:function(t,e,i){var a=i("23e7"),c=i("da84"),n=i("d066"),r=i("2ba4"),s=i("e330"),o=i("d039"),u=c.Array,l=n("JSON","stringify"),d=s(/./.exec),h=s("".charAt),f=s("".charCodeAt),b=s("".replace),p=s(1..toString),v=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,g=function(t,e,i){var a=h(i,e-1),c=h(i,e+1);return d(j,t)&&!d(O,c)||d(O,t)&&!d(j,a)?"\\u"+p(f(t,0),16):t},y=o((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&a({target:"JSON",stat:!0,forced:y},{stringify:function(t,e,i){for(var a=0,c=arguments.length,n=u(c);a<c;a++)n[a]=arguments[a];var s=r(l,null,n);return"string"==typeof s?b(s,v,g):s}})}}]);
//# sourceMappingURL=chunk-d37aa5f8.ea2bf4b8.js.map